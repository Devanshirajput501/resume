<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% assign meta_description = site.title %}
{% if site.data.data.profile.details %}
{% assign meta_description = site.data.data.profile.details | strip_html | strip_newlines | truncate: 160 %}
{% endif %}
<meta name="description" content="{% if site.open %}{{ meta_description }}{% endif %}">
<meta name="theme-color" content="{{ site.theme_color | default: '#42A8C0' }}">
{% unless site.allow_search_engines %}<meta name="robots" content="noindex, nofollow">{% endunless %}

<!-- Open Graph / Twitter -->
<meta property="og:type" content="website">
<meta property="og:title" content="{{ site.title }}">
<meta property="og:description" content="{{ meta_description }}">
{% if site.url %}
<meta property="og:url" content="{{ site.url | append: site.baseurl | append: page.url }}">
<link rel="canonical" href="{{ site.url | append: site.baseurl | append: page.url }}">
{% endif %}
{% assign avatar_path = site.data.data.basic.avatar.path %}
{% if avatar_path %}
{% assign og_image = site.url | append: site.baseurl | append: '/assets/images/' | append: avatar_path %}
<meta property="og:image" content="{{ og_image }}">
<meta name="twitter:image" content="{{ og_image }}">
{% endif %}
<meta name="twitter:card" content="{% if avatar_path %}summary_large_image{% else %}summary{% endif %}">
<meta name="twitter:title" content="{{ site.title }}">
<meta name="twitter:description" content="{{ meta_description }}">

{% if site.open %}
<title>{{ site.title }}</title>
{% else %}
<title>Online Resume</title>
{% endif %}

<script>
    // Apply saved theme early to avoid flash
    (function() {
        try {
            var saved = localStorage.getItem('theme');
            if (saved === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        } catch (e) {}
    })();
</script>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<!-- Pinned vendor CSS versions -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.3/css/academicons.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/charts.css@1.2.0/dist/charts.min.css">
<link id="theme-style" rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">

{% if site.analytics.google %}
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id={{ site.analytics.google }}"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', '{{ site.analytics.google }}');
</script>
{% endif %}

{% if site.analytics.cloudflare %}
<!-- Cloudflare Web Analytics -->
<script defer src='https://static.cloudflareinsights.com/beacon.min.js'
    data-cf-beacon='{"token": "{{ site.analytics.cloudflare }}"}'></script>
<!-- End Cloudflare Web Analytics -->
{% endif %}
